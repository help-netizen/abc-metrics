# Агенты проекта

Эта директория содержит инструкции для каждого агента-роли в процессе разработки.

## Структура агентов

1. **[agent-01-product-requirements.md](./agent-01-product-requirements.md)** — Product / Requirements Analyst
   - Превращает свободный текст в формальные требования
   - Проверяет на дублирование существующих фич
   - Создаёт/обновляет `docs/requirements.md`

2. **[agent-02-architect.md](./agent-02-architect.md)** — Architect
   - Проектирует архитектурное решение
   - Определяет точки интеграции
   - Обновляет `docs/architecture.md`

3. **[agent-03-planner.md](./agent-03-planner.md)** — Planner / Task Breakdown
   - Разбивает архитектурное решение на задачи
   - Определяет порядок выполнения
   - Создаёт/обновляет `docs/tasks.md`

4. **[agent-04-implementer.md](./agent-04-implementer.md)** — Implementer
   - Пишет/меняет код в рамках одной задачи
   - Следует архитектуре и требованиям
   - Предотвращает дублирование кода

5. **[agent-05-tester.md](./agent-05-tester.md)** — Tester
   - Добавляет/обновляет тесты
   - Проверяет покрытие новых сценариев
   - Гарантирует, что старый функционал не сломан

6. **[agent-06-reviewer.md](./agent-06-reviewer.md)** — Reviewer / Guardian
   - Проверяет код на дублирование
   - Проверяет соответствие архитектуре и требованиям
   - Выносит вердикт: OK к мержу / НУЖНЫ ИСПРАВЛЕНИЯ

## Процесс работы

### Типичный pipeline:

```
1. Пользователь → свободный текст (идея/фича/проблема)
   ↓
2. Агент 1 (Product) → формализует требования → docs/requirements.md
   ↓
3. Агент 2 (Architect) → проектирует решение → docs/architecture.md
   ↓
4. Агент 3 (Planner) → разбивает на задачи → docs/tasks.md
   ↓
5. Для каждой задачи:
   ├─ Агент 4 (Implementer) → пишет код
   ├─ Агент 5 (Tester) → добавляет тесты
   └─ Агент 6 (Reviewer) → проверяет код
   ↓
6. После одобрения Reviewer → обновить docs/changelog.md
```

## Как использовать

### Для каждого агента:

1. **Открой соответствующий файл** с инструкциями агента
2. **Прочитай раздел "ОБЯЗАТЕЛЬНЫЕ ШАГИ ПЕРЕД НАЧАЛОМ РАБОТЫ"**
3. **Выполни все шаги** в указанном порядке
4. **Следуй правилам и ограничениям** из файла
5. **Используй чек-лист** перед отправкой результата

### Важные правила:

- **ВСЕГДА** читай базовые документы перед началом работы:
  - `docs/requirements.md`
  - `docs/architecture.md`
  - `docs/tasks.md`
  - `docs/changelog.md`

- **НЕЛЬЗЯ** начинать работу без выполнения обязательных шагов

- **ОБЯЗАТЕЛЬНО** используй чек-лист перед отправкой результата

## Базовые документы проекта

Все агенты работают с общей базой знаний:

- `docs/requirements.md` — список фич, сценариев, ограничений
- `docs/architecture.md` — модули, их ответственность, ключевые функции/классы
- `docs/tasks.md` — активные задачи с описанием и затронутыми файлами
- `docs/changelog.md` — история изменений (что меняли, когда и зачем)

**Жёсткое правило:** Перед любыми изменениями прочитать все базовые документы и ПОТОМ уже код.

## Принципы работы агентов

1. **"Сначала прочитай, потом пиши"** — каждый агент должен явно перечислить, что он просмотрел
2. **Маленькие задачи** — одна фича → несколько небольших задач (1–3 файла за раз)
3. **Защита ключевых мест** — явно указывать файлы/модули, которые нельзя менять
4. **Явные ссылки** — в каждом промпте вставлять конкретные выдержки из requirements.md и architecture.md

## Пример использования

См. файлы агентов для детальных примеров использования каждой роли.

